[debug] [2025-08-23T05:29:13.559Z] ----------------------------------------------------------------------
[debug] [2025-08-23T05:29:13.562Z] Command:       C:\Program Files\nodejs\node.exe C:\Users\aniru\AppData\Roaming\npm\node_modules\firebase-tools\lib\bin\firebase.js deploy --only functions --debug
[debug] [2025-08-23T05:29:13.562Z] CLI Version:   14.12.1
[debug] [2025-08-23T05:29:13.562Z] Platform:      win32
[debug] [2025-08-23T05:29:13.562Z] Node Version:  v22.17.1
[debug] [2025-08-23T05:29:13.563Z] Time:          Sat Aug 23 2025 10:59:13 GMT+0530 (India Standard Time)
[debug] [2025-08-23T05:29:13.563Z] ----------------------------------------------------------------------
[debug] 
[debug] [2025-08-23T05:29:13.744Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-08-23T05:29:13.745Z] > authorizing via signed-in user (aniani.19.09.22@gmail.com)
[debug] [2025-08-23T05:29:13.746Z] [iam] checking project mysurian09 for permissions ["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]
[debug] [2025-08-23T05:29:13.747Z] Checked if tokens are valid: true, expires at: 1755930411496
[debug] [2025-08-23T05:29:13.747Z] Checked if tokens are valid: true, expires at: 1755930411496
[debug] [2025-08-23T05:29:13.748Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/mysurian09:testIamPermissions [none]
[debug] [2025-08-23T05:29:13.748Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/mysurian09:testIamPermissions x-goog-quota-user=projects/mysurian09
[debug] [2025-08-23T05:29:13.749Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/mysurian09:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2025-08-23T05:29:15.437Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/mysurian09:testIamPermissions 200
[debug] [2025-08-23T05:29:15.437Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/mysurian09:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2025-08-23T05:29:15.438Z] Checked if tokens are valid: true, expires at: 1755930411496
[debug] [2025-08-23T05:29:15.438Z] Checked if tokens are valid: true, expires at: 1755930411496
[debug] [2025-08-23T05:29:15.439Z] >>> [apiv2][query] POST https://iam.googleapis.com/v1/projects/mysurian09/serviceAccounts/mysurian09@appspot.gserviceaccount.com:testIamPermissions [none]
[debug] [2025-08-23T05:29:15.439Z] >>> [apiv2][body] POST https://iam.googleapis.com/v1/projects/mysurian09/serviceAccounts/mysurian09@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[debug] [2025-08-23T05:29:17.196Z] <<< [apiv2][status] POST https://iam.googleapis.com/v1/projects/mysurian09/serviceAccounts/mysurian09@appspot.gserviceaccount.com:testIamPermissions 200
[debug] [2025-08-23T05:29:17.197Z] <<< [apiv2][body] POST https://iam.googleapis.com/v1/projects/mysurian09/serviceAccounts/mysurian09@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[info] 
[info] === Deploying to 'mysurian09'...
[info] 
[info] i  deploying functions 
[debug] [2025-08-23T05:29:17.206Z] Checked if tokens are valid: true, expires at: 1755930411496
[debug] [2025-08-23T05:29:17.207Z] Checked if tokens are valid: true, expires at: 1755930411496
[debug] [2025-08-23T05:29:17.207Z] >>> [apiv2][query] GET https://cloudresourcemanager.googleapis.com/v1/projects/mysurian09 [none]
[debug] [2025-08-23T05:29:17.672Z] <<< [apiv2][status] GET https://cloudresourcemanager.googleapis.com/v1/projects/mysurian09 200
[debug] [2025-08-23T05:29:17.673Z] <<< [apiv2][body] GET https://cloudresourcemanager.googleapis.com/v1/projects/mysurian09 {"projectNumber":"902034144498","projectId":"mysurian09","lifecycleState":"ACTIVE","name":"Mysurian","labels":{"firebase":"enabled","firebase-core":"disabled"},"createTime":"2025-07-31T08:05:40.041256Z"}
[info] i  functions: preparing codebase default for deployment 
[info] i  functions: ensuring required API cloudfunctions.googleapis.com is enabled... 
[info] i  functions: ensuring required API cloudbuild.googleapis.com is enabled... 
[info] i  artifactregistry: ensuring required API artifactregistry.googleapis.com is enabled... 
[debug] [2025-08-23T05:29:17.675Z] Checked if tokens are valid: true, expires at: 1755930411496
[debug] [2025-08-23T05:29:17.676Z] Checked if tokens are valid: true, expires at: 1755930411496
[debug] [2025-08-23T05:29:17.676Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/mysurian09/adminSdkConfig [none]
[debug] [2025-08-23T05:29:18.633Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/mysurian09/adminSdkConfig 200
[debug] [2025-08-23T05:29:18.633Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/mysurian09/adminSdkConfig {"projectId":"mysurian09","storageBucket":"mysurian09.firebasestorage.app"}
[debug] [2025-08-23T05:29:18.635Z] Checked if tokens are valid: true, expires at: 1755930411496
[debug] [2025-08-23T05:29:18.636Z] Checked if tokens are valid: true, expires at: 1755930411496
[debug] [2025-08-23T05:29:18.637Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/mysurian09/configs [none]
[debug] [2025-08-23T05:29:19.119Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/mysurian09/configs 200
[debug] [2025-08-23T05:29:19.120Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/mysurian09/configs {"configs":[{"name":"projects/mysurian09/configs/gmail"}]}
[debug] [2025-08-23T05:29:19.121Z] Checked if tokens are valid: true, expires at: 1755930411496
[debug] [2025-08-23T05:29:19.121Z] Checked if tokens are valid: true, expires at: 1755930411496
[debug] [2025-08-23T05:29:19.122Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/mysurian09/configs/gmail/variables [none]
[debug] [2025-08-23T05:29:19.592Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/mysurian09/configs/gmail/variables 200
[debug] [2025-08-23T05:29:19.593Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/mysurian09/configs/gmail/variables {"variables":[{"name":"projects/mysurian09/configs/gmail/variables/email","updateTime":"2025-08-23T04:55:05.625573645Z"},{"name":"projects/mysurian09/configs/gmail/variables/pass","updateTime":"2025-08-23T05:26:55.281376356Z"},{"name":"projects/mysurian09/configs/gmail/variables/password","updateTime":"2025-08-23T04:55:05.648529232Z"},{"name":"projects/mysurian09/configs/gmail/variables/user","updateTime":"2025-08-23T05:26:55.240549643Z"}]}
[debug] [2025-08-23T05:29:19.595Z] Checked if tokens are valid: true, expires at: 1755930411496
[debug] [2025-08-23T05:29:19.595Z] Checked if tokens are valid: true, expires at: 1755930411496
[debug] [2025-08-23T05:29:19.596Z] Checked if tokens are valid: true, expires at: 1755930411496
[debug] [2025-08-23T05:29:19.596Z] Checked if tokens are valid: true, expires at: 1755930411496
[debug] [2025-08-23T05:29:19.597Z] Checked if tokens are valid: true, expires at: 1755930411496
[debug] [2025-08-23T05:29:19.598Z] Checked if tokens are valid: true, expires at: 1755930411496
[debug] [2025-08-23T05:29:19.598Z] Checked if tokens are valid: true, expires at: 1755930411496
[debug] [2025-08-23T05:29:19.599Z] Checked if tokens are valid: true, expires at: 1755930411496
[debug] [2025-08-23T05:29:19.599Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/mysurian09/configs/gmail/variables/email [none]
[debug] [2025-08-23T05:29:19.601Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/mysurian09/configs/gmail/variables/pass [none]
[debug] [2025-08-23T05:29:19.606Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/mysurian09/configs/gmail/variables/password [none]
[debug] [2025-08-23T05:29:19.610Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/mysurian09/configs/gmail/variables/user [none]
[debug] [2025-08-23T05:29:19.945Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/mysurian09/configs/gmail/variables/email 200
[debug] [2025-08-23T05:29:19.945Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/mysurian09/configs/gmail/variables/email {"name":"projects/mysurian09/configs/gmail/variables/email","updateTime":"2025-08-23T04:55:05.625573645Z","text":"aniani.19.09.23@gmail.com"}
[debug] [2025-08-23T05:29:20.060Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/mysurian09/configs/gmail/variables/pass 200
[debug] [2025-08-23T05:29:20.061Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/mysurian09/configs/gmail/variables/pass {"name":"projects/mysurian09/configs/gmail/variables/pass","updateTime":"2025-08-23T05:26:55.281376356Z","text":"pdci yqnm mieo atrc"}
[debug] [2025-08-23T05:29:20.062Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/mysurian09/configs/gmail/variables/user 200
[debug] [2025-08-23T05:29:20.062Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/mysurian09/configs/gmail/variables/user {"name":"projects/mysurian09/configs/gmail/variables/user","updateTime":"2025-08-23T05:26:55.240549643Z","text":"aniani.19.09.22@gmail.com"}
[debug] [2025-08-23T05:29:20.092Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/mysurian09/configs/gmail/variables/password 200
[debug] [2025-08-23T05:29:20.092Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/mysurian09/configs/gmail/variables/password {"name":"projects/mysurian09/configs/gmail/variables/password","updateTime":"2025-08-23T04:55:05.648529232Z","text":"pdci yqnm mieo atrc"}
[debug] [2025-08-23T05:29:20.096Z] Validating nodejs source
[debug] [2025-08-23T05:29:21.148Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "20"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "nodemailer": "^7.0.5"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-08-23T05:29:21.148Z] Building nodejs source
[info] i  functions: Loading and analyzing source code for codebase default to determine what to deploy 
[debug] [2025-08-23T05:29:21.150Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-08-23T05:29:21.159Z] Found firebase-functions binary at 'E:\Mysurian\mysurian\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8467

[error] ReferenceError: app is not defined
    at Object.<anonymous> (E:\Mysurian\mysurian\functions\index.js:12:1)
    at Module._compile (node:internal/modules/cjs/loader:1730:14)
    at Object..js (node:internal/modules/cjs/loader:1895:10)
    at Module.load (node:internal/modules/cjs/loader:1465:32)
    at Function._load (node:internal/modules/cjs/loader:1282:12)
    at TracingChannel.traceSync (node:diagnostics_channel:322:14)
    at wrapModuleLoad (node:internal/modules/cjs/loader:235:24)
    at Module.require (node:internal/modules/cjs/loader:1487:12)
    at require (node:internal/modules/helpers:135:16)
    at loadModule (E:\Mysurian\mysurian\functions\node_modules\firebase-functions\lib\runtime\loader.js:40:16)

[debug] [2025-08-23T05:29:21.687Z] Got response code 400; body Failed to generate manifest from function source: app is not defined
[error] 
[error] Error: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error
[debug] [2025-08-23T05:31:41.647Z] ----------------------------------------------------------------------
[debug] [2025-08-23T05:31:41.649Z] Command:       C:\Program Files\nodejs\node.exe C:\Users\aniru\AppData\Roaming\npm\node_modules\firebase-tools\lib\bin\firebase.js functions:config:set gmail.user=aniani.19.09.22@gmail.com gmail.pass=pdci yqnm mieo atrc
[debug] [2025-08-23T05:31:41.650Z] CLI Version:   14.12.1
[debug] [2025-08-23T05:31:41.650Z] Platform:      win32
[debug] [2025-08-23T05:31:41.650Z] Node Version:  v22.17.1
[debug] [2025-08-23T05:31:41.650Z] Time:          Sat Aug 23 2025 11:01:41 GMT+0530 (India Standard Time)
[debug] [2025-08-23T05:31:41.651Z] ----------------------------------------------------------------------
[debug] 
[debug] [2025-08-23T05:31:41.837Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-08-23T05:31:41.837Z] > authorizing via signed-in user (aniani.19.09.22@gmail.com)
[debug] [2025-08-23T05:31:41.838Z] [iam] checking project mysurian09 for permissions ["firebase.projects.get","runtimeconfig.configs.create","runtimeconfig.configs.delete","runtimeconfig.configs.get","runtimeconfig.configs.list","runtimeconfig.configs.update","runtimeconfig.variables.create","runtimeconfig.variables.delete","runtimeconfig.variables.get","runtimeconfig.variables.list","runtimeconfig.variables.update"]
[debug] [2025-08-23T05:31:41.839Z] Checked if tokens are valid: true, expires at: 1755930411496
[debug] [2025-08-23T05:31:41.839Z] Checked if tokens are valid: true, expires at: 1755930411496
[debug] [2025-08-23T05:31:41.840Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/mysurian09:testIamPermissions [none]
[debug] [2025-08-23T05:31:41.840Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/mysurian09:testIamPermissions x-goog-quota-user=projects/mysurian09
[debug] [2025-08-23T05:31:41.840Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/mysurian09:testIamPermissions {"permissions":["firebase.projects.get","runtimeconfig.configs.create","runtimeconfig.configs.delete","runtimeconfig.configs.get","runtimeconfig.configs.list","runtimeconfig.configs.update","runtimeconfig.variables.create","runtimeconfig.variables.delete","runtimeconfig.variables.get","runtimeconfig.variables.list","runtimeconfig.variables.update"]}
[debug] [2025-08-23T05:31:43.608Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/mysurian09:testIamPermissions 200
[debug] [2025-08-23T05:31:43.608Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/mysurian09:testIamPermissions {"permissions":["firebase.projects.get","runtimeconfig.configs.create","runtimeconfig.configs.delete","runtimeconfig.configs.get","runtimeconfig.configs.list","runtimeconfig.configs.update","runtimeconfig.variables.create","runtimeconfig.variables.delete","runtimeconfig.variables.get","runtimeconfig.variables.list","runtimeconfig.variables.update"]}
[debug] [2025-08-23T05:31:43.610Z] Checked if tokens are valid: true, expires at: 1755930411496
[debug] [2025-08-23T05:31:43.610Z] Checked if tokens are valid: true, expires at: 1755930411496
[debug] [2025-08-23T05:31:43.610Z] Checked if tokens are valid: true, expires at: 1755930411496
[debug] [2025-08-23T05:31:43.610Z] Checked if tokens are valid: true, expires at: 1755930411496
[debug] [2025-08-23T05:31:43.610Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/mysurian09/configs/gmail/variables/user [none]
[debug] [2025-08-23T05:31:43.611Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/mysurian09/configs/gmail/variables/pass [none]
[debug] [2025-08-23T05:31:44.094Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/mysurian09/configs/gmail/variables/pass 200
[debug] [2025-08-23T05:31:44.095Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/mysurian09/configs/gmail/variables/pass {"name":"projects/mysurian09/configs/gmail/variables/pass","updateTime":"2025-08-23T05:26:55.281376356Z","text":"pdci yqnm mieo atrc"}
[debug] [2025-08-23T05:31:44.095Z] Checked if tokens are valid: true, expires at: 1755930411496
[debug] [2025-08-23T05:31:44.095Z] Checked if tokens are valid: true, expires at: 1755930411496
[debug] [2025-08-23T05:31:44.095Z] >>> [apiv2][query] PUT https://runtimeconfig.googleapis.com/v1beta1/projects/mysurian09/configs/gmail/variables/pass [none]
[debug] [2025-08-23T05:31:44.095Z] >>> [apiv2][body] PUT https://runtimeconfig.googleapis.com/v1beta1/projects/mysurian09/configs/gmail/variables/pass {"name":"/projects/mysurian09/configs/gmail/variables/pass","text":"pdci yqnm mieo atrc"}
[debug] [2025-08-23T05:31:44.114Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/mysurian09/configs/gmail/variables/user 200
[debug] [2025-08-23T05:31:44.114Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/mysurian09/configs/gmail/variables/user {"name":"projects/mysurian09/configs/gmail/variables/user","updateTime":"2025-08-23T05:26:55.240549643Z","text":"aniani.19.09.22@gmail.com"}
[debug] [2025-08-23T05:31:44.114Z] Checked if tokens are valid: true, expires at: 1755930411496
[debug] [2025-08-23T05:31:44.114Z] Checked if tokens are valid: true, expires at: 1755930411496
[debug] [2025-08-23T05:31:44.114Z] >>> [apiv2][query] PUT https://runtimeconfig.googleapis.com/v1beta1/projects/mysurian09/configs/gmail/variables/user [none]
[debug] [2025-08-23T05:31:44.114Z] >>> [apiv2][body] PUT https://runtimeconfig.googleapis.com/v1beta1/projects/mysurian09/configs/gmail/variables/user {"name":"/projects/mysurian09/configs/gmail/variables/user","text":"aniani.19.09.22@gmail.com"}
[debug] [2025-08-23T05:32:04.082Z] ----------------------------------------------------------------------
[debug] [2025-08-23T05:32:04.086Z] Command:       C:\Program Files\nodejs\node.exe C:\Users\aniru\AppData\Roaming\npm\node_modules\firebase-tools\lib\bin\firebase.js deploy --only functions --debug
[debug] [2025-08-23T05:32:04.087Z] CLI Version:   14.12.1
[debug] [2025-08-23T05:32:04.087Z] Platform:      win32
[debug] [2025-08-23T05:32:04.087Z] Node Version:  v22.17.1
[debug] [2025-08-23T05:32:04.088Z] Time:          Sat Aug 23 2025 11:02:04 GMT+0530 (India Standard Time)
[debug] [2025-08-23T05:32:04.088Z] ----------------------------------------------------------------------
[debug] 
[debug] [2025-08-23T05:32:04.276Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-08-23T05:32:04.277Z] > authorizing via signed-in user (aniani.19.09.22@gmail.com)
[debug] [2025-08-23T05:32:04.277Z] [iam] checking project mysurian09 for permissions ["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]
[debug] [2025-08-23T05:32:04.279Z] Checked if tokens are valid: true, expires at: 1755930411496
[debug] [2025-08-23T05:32:04.279Z] Checked if tokens are valid: true, expires at: 1755930411496
[debug] [2025-08-23T05:32:04.280Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/mysurian09:testIamPermissions [none]
[debug] [2025-08-23T05:32:04.280Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/mysurian09:testIamPermissions x-goog-quota-user=projects/mysurian09
[debug] [2025-08-23T05:32:04.281Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/mysurian09:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2025-08-23T05:32:05.959Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/mysurian09:testIamPermissions 200
[debug] [2025-08-23T05:32:05.960Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/mysurian09:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2025-08-23T05:32:05.960Z] Checked if tokens are valid: true, expires at: 1755930411496
[debug] [2025-08-23T05:32:05.960Z] Checked if tokens are valid: true, expires at: 1755930411496
[debug] [2025-08-23T05:32:05.961Z] >>> [apiv2][query] POST https://iam.googleapis.com/v1/projects/mysurian09/serviceAccounts/mysurian09@appspot.gserviceaccount.com:testIamPermissions [none]
[debug] [2025-08-23T05:32:05.961Z] >>> [apiv2][body] POST https://iam.googleapis.com/v1/projects/mysurian09/serviceAccounts/mysurian09@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[debug] [2025-08-23T05:32:07.756Z] <<< [apiv2][status] POST https://iam.googleapis.com/v1/projects/mysurian09/serviceAccounts/mysurian09@appspot.gserviceaccount.com:testIamPermissions 200
[debug] [2025-08-23T05:32:07.756Z] <<< [apiv2][body] POST https://iam.googleapis.com/v1/projects/mysurian09/serviceAccounts/mysurian09@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[info] 
[info] === Deploying to 'mysurian09'...
[info] 
[info] i  deploying functions 
[debug] [2025-08-23T05:32:07.760Z] Checked if tokens are valid: true, expires at: 1755930411496
[debug] [2025-08-23T05:32:07.760Z] Checked if tokens are valid: true, expires at: 1755930411496
[debug] [2025-08-23T05:32:07.760Z] >>> [apiv2][query] GET https://cloudresourcemanager.googleapis.com/v1/projects/mysurian09 [none]
[debug] [2025-08-23T05:32:08.233Z] <<< [apiv2][status] GET https://cloudresourcemanager.googleapis.com/v1/projects/mysurian09 200
[debug] [2025-08-23T05:32:08.233Z] <<< [apiv2][body] GET https://cloudresourcemanager.googleapis.com/v1/projects/mysurian09 {"projectNumber":"902034144498","projectId":"mysurian09","lifecycleState":"ACTIVE","name":"Mysurian","labels":{"firebase":"enabled","firebase-core":"disabled"},"createTime":"2025-07-31T08:05:40.041256Z"}
[info] i  functions: preparing codebase default for deployment 
[info] i  functions: ensuring required API cloudfunctions.googleapis.com is enabled... 
[info] i  functions: ensuring required API cloudbuild.googleapis.com is enabled... 
[info] i  artifactregistry: ensuring required API artifactregistry.googleapis.com is enabled... 
[debug] [2025-08-23T05:32:08.236Z] Checked if tokens are valid: true, expires at: 1755930411496
[debug] [2025-08-23T05:32:08.236Z] Checked if tokens are valid: true, expires at: 1755930411496
[debug] [2025-08-23T05:32:08.237Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/mysurian09/adminSdkConfig [none]
[debug] [2025-08-23T05:32:09.195Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/mysurian09/adminSdkConfig 200
[debug] [2025-08-23T05:32:09.195Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/mysurian09/adminSdkConfig {"projectId":"mysurian09","storageBucket":"mysurian09.firebasestorage.app"}
[debug] [2025-08-23T05:32:09.195Z] Checked if tokens are valid: true, expires at: 1755930411496
[debug] [2025-08-23T05:32:09.195Z] Checked if tokens are valid: true, expires at: 1755930411496
[debug] [2025-08-23T05:32:09.196Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/mysurian09/configs [none]
[debug] [2025-08-23T05:32:10.661Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/mysurian09/configs 200
[debug] [2025-08-23T05:32:10.661Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/mysurian09/configs {"configs":[{"name":"projects/mysurian09/configs/gmail"}]}
[debug] [2025-08-23T05:32:10.661Z] Checked if tokens are valid: true, expires at: 1755930411496
[debug] [2025-08-23T05:32:10.662Z] Checked if tokens are valid: true, expires at: 1755930411496
[debug] [2025-08-23T05:32:10.662Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/mysurian09/configs/gmail/variables [none]
[debug] [2025-08-23T05:32:11.272Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/mysurian09/configs/gmail/variables 200
[debug] [2025-08-23T05:32:11.273Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/mysurian09/configs/gmail/variables {"variables":[{"name":"projects/mysurian09/configs/gmail/variables/password","updateTime":"2025-08-23T04:55:05.648529232Z"},{"name":"projects/mysurian09/configs/gmail/variables/user","updateTime":"2025-08-23T05:31:53.780908541Z"},{"name":"projects/mysurian09/configs/gmail/variables/email","updateTime":"2025-08-23T04:55:05.625573645Z"},{"name":"projects/mysurian09/configs/gmail/variables/pass","updateTime":"2025-08-23T05:31:53.772227893Z"}]}
[debug] [2025-08-23T05:32:11.274Z] Checked if tokens are valid: true, expires at: 1755930411496
[debug] [2025-08-23T05:32:11.274Z] Checked if tokens are valid: true, expires at: 1755930411496
[debug] [2025-08-23T05:32:11.275Z] Checked if tokens are valid: true, expires at: 1755930411496
[debug] [2025-08-23T05:32:11.275Z] Checked if tokens are valid: true, expires at: 1755930411496
[debug] [2025-08-23T05:32:11.276Z] Checked if tokens are valid: true, expires at: 1755930411496
[debug] [2025-08-23T05:32:11.276Z] Checked if tokens are valid: true, expires at: 1755930411496
[debug] [2025-08-23T05:32:11.277Z] Checked if tokens are valid: true, expires at: 1755930411496
[debug] [2025-08-23T05:32:11.278Z] Checked if tokens are valid: true, expires at: 1755930411496
[debug] [2025-08-23T05:32:11.278Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/mysurian09/configs/gmail/variables/password [none]
[debug] [2025-08-23T05:32:11.280Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/mysurian09/configs/gmail/variables/user [none]
[debug] [2025-08-23T05:32:11.286Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/mysurian09/configs/gmail/variables/email [none]
[debug] [2025-08-23T05:32:11.290Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/mysurian09/configs/gmail/variables/pass [none]
[debug] [2025-08-23T05:32:11.917Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/mysurian09/configs/gmail/variables/password 200
[debug] [2025-08-23T05:32:11.917Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/mysurian09/configs/gmail/variables/password {"name":"projects/mysurian09/configs/gmail/variables/password","updateTime":"2025-08-23T04:55:05.648529232Z","text":"pdci yqnm mieo atrc"}
[debug] [2025-08-23T05:32:11.918Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/mysurian09/configs/gmail/variables/user 200
[debug] [2025-08-23T05:32:11.918Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/mysurian09/configs/gmail/variables/user {"name":"projects/mysurian09/configs/gmail/variables/user","updateTime":"2025-08-23T05:31:53.780908541Z","text":"aniani.19.09.22@gmail.com"}
[debug] [2025-08-23T05:32:12.006Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/mysurian09/configs/gmail/variables/pass 200
[debug] [2025-08-23T05:32:12.007Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/mysurian09/configs/gmail/variables/pass {"name":"projects/mysurian09/configs/gmail/variables/pass","updateTime":"2025-08-23T05:31:53.772227893Z","text":"pdci yqnm mieo atrc"}
[debug] [2025-08-23T05:32:12.017Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/mysurian09/configs/gmail/variables/email 200
[debug] [2025-08-23T05:32:12.018Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/mysurian09/configs/gmail/variables/email {"name":"projects/mysurian09/configs/gmail/variables/email","updateTime":"2025-08-23T04:55:05.625573645Z","text":"aniani.19.09.23@gmail.com"}
[debug] [2025-08-23T05:32:12.021Z] Validating nodejs source
[debug] [2025-08-23T05:32:13.044Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "20"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "nodemailer": "^7.0.5"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-08-23T05:32:13.045Z] Building nodejs source
[info] i  functions: Loading and analyzing source code for codebase default to determine what to deploy 
[debug] [2025-08-23T05:32:13.048Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-08-23T05:32:13.058Z] Found firebase-functions binary at 'E:\Mysurian\mysurian\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8985

[error] ReferenceError: app is not defined
    at Object.<anonymous> (E:\Mysurian\mysurian\functions\index.js:12:1)
    at Module._compile (node:internal/modules/cjs/loader:1730:14)
    at Object..js (node:internal/modules/cjs/loader:1895:10)
    at Module.load (node:internal/modules/cjs/loader:1465:32)
    at Function._load (node:internal/modules/cjs/loader:1282:12)
    at TracingChannel.traceSync (node:diagnostics_channel:322:14)
    at wrapModuleLoad (node:internal/modules/cjs/loader:235:24)
    at Module.require (node:internal/modules/cjs/loader:1487:12)
    at require (node:internal/modules/helpers:135:16)
    at loadModule (E:\Mysurian\mysurian\functions\node_modules\firebase-functions\lib\runtime\loader.js:40:16)

[debug] [2025-08-23T05:32:13.586Z] Got response code 400; body Failed to generate manifest from function source: app is not defined
[error] 
[error] Error: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error
